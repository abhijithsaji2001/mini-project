<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shopsy</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    .search-bar {
      max-width: 500px; /* control overall width */
      margin: auto;     /* center on page */
    }
    .search-input {
      border-radius: 30px 0 0 30px; /* rounded left side */
      border: 2px solid #0d6efd;   /* Bootstrap primary color */
    }
    .search-btn {
      border-radius: 0 30px 30px 0; /* rounded right side */
      border: 2px solid #0d6efd;
      border-left: none; /* remove double border */
    }
  </style>
</head>
<body>
  <div class="row p-3 bg-dark">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
    <div class="container-fluid">
      <a class="navbar-brand fw-bold fs-3" href="{% url 'home' %}">Shopsy</a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
        aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarContent">
        <!-- Search bar -->
        <form class="d-flex ms-auto me-3 search-bar" action="{% url 'product_list' %}" method="GET">
          <input class="form-control search-input bg-light" type="text" name="q" placeholder="Search products..." aria-label="Search">
          <button class="btn btn-primary search-btn" type="submit">Search</button>
        </form>

        <!-- Navbar links -->
        <ul class="navbar-nav mb-2 mb-lg-0 align-items-lg-center">
          <li class="nav-item"><a href="{% url 'home' %}" class="nav-link active">Home</a></li>
          <li class="nav-item"><a href="{% url 'product_list' %}" class="nav-link">Products</a></li>

          {% if not user.is_authenticated %}
            <li class="nav-item"><a href="{% url 'login_page' %}" class="nav-link">Login</a></li>
            <li class="nav-item"><a href="{% url 'sign_up_page' %}" class="nav-link">Sign Up</a></li>
          {% else %}
            <li class="nav-item"><a href="{% url 'cart/' %}" class="nav-link">Cart</a></li>
            <li class="nav-item"><a href="{% url 'logout' %}" class="nav-link">Sign Out</a></li>
          {% endif %}
        </ul>
      </div>
    </div>
  </nav>
</div>
</body>
</html>
